(this.webpackJsonplazarusNetwork=this.webpackJsonplazarusNetwork||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},191:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(23),s=a.n(c),i=(a(163),a(9)),o=a(7),l=(a(164),a(93),a(19)),u=a(22),j=a(4),d=a.n(j),b=a(11),h=a(17),O=a(274),p=a(126),x=a(50),m=a(47),g=a(268),f=a(244),v=(a(109),a(13)),y=a(247),N="https://huhtitnivwhruzbhvmkq.supabase.co",S="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyNTY2NTYyOCwiZXhwIjoxOTQxMjQxNjI4fQ.QZS3Su5KD-kstAce-janeQoZ9wP5h4YdO-EFPw_V0Qs",w="https://platform.lazarus.network/api/v1.4",k="SET_LIGHT_THEME",C="SET_DARK_THEME",I="light",E="dark",A="FETCH_USER_BEGIN",_="FETCH_USER_SUCCESS",T="FETCH_USER_FAILURE",D="FETCH_ORG_BEGIN",U="FETCH_ORG_SUCCESS",P="FETCH_ORG_FAILURE",F="CREATE_ORG_BEGIN",L="CREATE_ORG_SUCCESS",z="CREATE_ORG_FAILURE",M="CHANGE_CURRENT_ORG",R="FETCH_MEMBERS_BEGIN",B="FETCH_MEMBERS_SUCCESS",J="FETCH_MEMBERS_FAILURE",H="INVITE_MEMBERS_BEGIN",W="INVITE_MEMBERS_SUCCESS",G="INVITE_MEMBERS_FAILURE",q="FETCH_PLANS_BEGIN",V="FETCH_PLANS_SUCCESS",Y="FETCH_PLANS_FAILURE",Q="FETCH_WALLET_BEGIN",K="FETCH_WALLET_SUCCESS",X="FETCH_WALLET_FAILURE",Z="FETCH_SUBS_BEGIN",$="FETCH_SUBS_SUCCESS",ee="FETCH_SUBS_FAILURE",te=w+"/orgs";function ae(e){if(!e.ok)throw Error(e.status);return e}var re=function(){return{type:D}},ne=function(e){return{type:U,payload:e}},ce=function(e){return{type:P,payload:{error:e}}},se=function(e){return{type:M,payload:e}},ie=a(2);function oe(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var le=Object(f.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ue(e){var t=e.show,a=e.onClose,n=le(),c=Object(r.useState)(oe),s=Object(o.a)(c,1)[0],i=Object(v.d)((function(e){return{orgArray:Object(h.a)(e.organisations.orgArray),currentOrgID:e.organisations.CurrentOrgID}})),u=i.orgArray,j=i.currentOrgID,d=Object(r.useState)(),b=Object(o.a)(d,2),O=b[0],p=b[1],x=Object(v.c)();return Object(r.useEffect)((function(){!function(){var e=u.find((function(e){return e.id===j}));p(e),a(!0)}()}),[j]),Object(ie.jsx)("div",{children:Object(ie.jsx)(g.a,{open:t,onClose:a,children:Object(ie.jsxs)("div",{style:s,className:n.paper,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"main-title",children:"All Organisations"}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsx)("div",{className:"tag",children:"current organisation"}),O?Object(ie.jsx)("div",{className:"org-box",children:Object(ie.jsx)("div",{className:"name",children:O.name})}):Object(ie.jsx)("div",{className:"org-box",children:" No current Organisation"}),Object(ie.jsx)("div",{className:"tag",children:"all Organisations"}),u.length?u.map((function(e){return Object(ie.jsxs)("div",{className:"",children:[Object(ie.jsx)("hr",{className:"divider"}),Object(ie.jsx)(y.a,{fullWidth:!0,onClick:function(){return x(se(e.id))},children:e.name})]},e.id)})):Object(ie.jsx)("div",{className:"org-box",children:"No organisations"})]}),Object(ie.jsx)("div",{className:"center",children:Object(ie.jsx)(l.b,{to:"/dash/organisations",children:Object(ie.jsx)("button",{className:"simple-btn",children:"Manage All Organisation"})})})]})})})}var je=a(14),de=a(15),be=a(131),he=S,Oe=N,pe=Object(be.a)(Oe,he),xe=function(){function e(){Object(je.a)(this,e),this.sdk=pe,this.authenticated=this.checkAuthenticated()}return Object(de.a)(e,[{key:"signup",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.signUp({email:t,password:a});case 2:return r=e.sent,n=r.user,c=r.session,s=r.error,e.abrupt("return",{user:n,session:c,error:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.signIn({email:t,password:a});case 2:return r=e.sent,n=r.user,c=r.session,s=r.error,e.abrupt("return",{user:n,session:c,error:s});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"google",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.signIn({provider:"google"});case 2:return t=e.sent,a=t.user,r=t.session,n=t.error,e.abrupt("return",{user:a,session:r,error:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"github",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.signIn({provider:"github"});case 2:return t=e.sent,a=t.user,r=t.session,n=t.error,e.abrupt("return",{user:a,session:r,error:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=this.sdk.auth.signOut().error;return e||localStorage.removeItem("auth_state"),{error:e}}},{key:"checkAuthenticated",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.session();case 2:return(t=e.sent)?localStorage.setItem("auth_state",1):localStorage.removeItem("auth_state"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAuthenticated",value:function(e){this.authenticated=e}},{key:"getAuthenticated",value:function(){return this.checkAuthenticated()}},{key:"getAccount",value:function(){return this.sdk.auth.user()}},{key:"isSessionActive",value:function(){return!!this.sdk.auth.session()}},{key:"onAuthStateChange",value:function(){return this.sdk.auth.onAuthStateChange((function(e,t){console.log(e),t&&localStorage.setItem("auth_state",1)}))}},{key:"createRecovery",value:function(e){var t=this.sdk.auth.api.resetPasswordForEmail(e,{redirectTo:"http://localhost:8000/#/updatepassword"});t.data,t.error}},{key:"updatePassword",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.sdk.auth.session().access_token,e.next=3,this.sdk.auth.api.updateUser(a,{password:t});case 3:return r=e.sent,n=r.error,c=r.data,e.abrupt("return",{data:c,error:n});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserName",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.auth.update({data:{full_name:t}});case 2:return a=e.sent,r=a.user,n=a.error,e.abrupt("return",{user:r,error:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function me(e){var t=e.page,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(),u=Object(o.a)(i,2),j=u[0],h=u[1],g=Object(v.d)((function(e){return e.theme})),f=Object(v.c)();Object(r.useEffect)(Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("avatar_url"),h(t);case 2:case"end":return e.stop()}}),e)}))),[]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("nav",{className:"top-nav",children:[Object(ie.jsx)("h4",{className:"title",children:t}),Object(ie.jsxs)("div",{className:"icons",children:[Object(ie.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(ie.jsx)(x.b,{}),onClick:function(){return s(!c)},children:"Org"}),Object(ie.jsxs)("icon",{onClick:function(){return"light"===g&&f({type:C}),void("dark"===g&&f({type:k}))},children:["light"===g&&Object(ie.jsx)(m.b,{color:"gold",size:20}),"dark"===g&&Object(ie.jsx)(m.a,{color:"silver",size:20})]}),Object(ie.jsx)("icon",{children:Object(ie.jsx)(p.a,{size:20})}),Object(ie.jsx)("div",{className:"vertical-divider"}),Object(ie.jsx)("icon",{children:Object(ie.jsx)(l.b,{to:"/dash/profile",children:Object(ie.jsx)(O.a,{src:j})})})]})]}),Object(ie.jsx)(ue,{show:c,onClose:function(){return s(!1)}})]})}var ge=a(272),fe=(a(110),a(32)),ve=a.n(fe),ye=a(249),Ne=a(253),Se=a(252),we=a(248),ke=a(250),Ce=a(251),Ie=a(206);function Ee(){var e=window.navigator.userAgent,t=window.navigator.platform,a=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?a="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?a="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?a="Windows":/Android/.test(e)?a="Android":!a&&/Linux/.test(t)&&(a="Linux"),a}var Ae=Object(f.a)((function(e){return{table:{minWidth:650,backgroundColor:e.palette.background.paper}}}));function _e(e){var t=function(){var e,t=navigator.userAgent,a=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(a[1])?{name:"IE ",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===a[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&a.splice(1,1,e[1]),{name:a[0],version:a[1],os:Ee()})}(),a=localStorage.getItem("activity"),r=JSON.parse(a)?Object(h.a)(JSON.parse(a)):[],n=new Date,c=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+(n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()),s=JSON.parse(localStorage.getItem("ipinfo")),i=null!==s?s:{ip:" ",region:" "};console.log("activity page ",s);var o={activity:e,time:c,device:t.name+" "+t.version+" ,"+t.os,ip:i.ip,region:i.region};r.length>10&&r.pop(),r.unshift(o),localStorage.setItem("activity",JSON.stringify(r))}var Te=JSON.parse(localStorage.getItem("activity"));function De(){var e=Object(r.useState)(Te),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Ae();return Object(r.useEffect)((function(){null===(Te=JSON.parse(localStorage.getItem("activity")))&&"undefined"===Te||n(Te)}),[]),Object(ie.jsx)(we.a,{component:Ie.a,children:Object(ie.jsxs)(ye.a,{className:c.table,"aria-label":"simple table",children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsxs)(Ce.a,{children:[Object(ie.jsx)(Se.a,{children:"Action"}),Object(ie.jsx)(Se.a,{align:"right",children:"Time"}),Object(ie.jsx)(Se.a,{align:"right",children:"Device"}),Object(ie.jsx)(Se.a,{align:"right",children:"Ip Address"}),Object(ie.jsx)(Se.a,{align:"right",children:"Region"})]})}),Object(ie.jsx)(Ne.a,{children:a?a.map((function(e,t){return Object(ie.jsxs)(Ce.a,{children:[Object(ie.jsx)(Se.a,{component:"th",scope:"row",children:e.activity}),Object(ie.jsx)(Se.a,{align:"right",children:e.time}),Object(ie.jsx)(Se.a,{align:"right",children:e.device}),Object(ie.jsx)(Se.a,{align:"right",children:e.ip}),Object(ie.jsx)(Se.a,{align:"right",children:e.region})]},t)})):Object(ie.jsx)(Ce.a,{children:Object(ie.jsx)("h5",{className:"center details-box ",children:" No recent activity"})})})]})})}var Ue=function(){return{type:F}},Pe=function(e){return{type:L,payload:e}},Fe=function(e){return{type:z,payload:{error:e}}},Le=a(271),ze=a(269),Me=a(207);function Re(e){var t=e.message,a=e.alertopen,r=n.a.useState(a),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(ie.jsx)(n.a.Fragment,{children:Object(ie.jsx)(Le.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s,autoHideDuration:3e3,action:Object(ie.jsx)(n.a.Fragment,{children:Object(ie.jsx)(Me.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return i(!1)},children:Object(ie.jsx)(x.a,{fontSize:"small"})})}),children:Object(ie.jsx)(ze.a,{onClose:function(){return i(!1)},severity:"error",children:t})})})}function Be(e){var t=e.message,a=e.alertopen,r=e.setAlertopen,c=e.type;return Object(ie.jsx)(n.a.Fragment,{children:Object(ie.jsx)(Le.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a,autoHideDuration:3e3,onClose:function(){return r(!1)},action:Object(ie.jsx)(n.a.Fragment,{children:Object(ie.jsx)(Me.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return r(!1)},children:Object(ie.jsx)(x.a,{fontSize:"small"})})}),children:Object(ie.jsx)(ze.a,{severity:c,children:t})})})}function Je(e){var t=e.open,a=e.setOpen,n=Object(r.useState)(null),c=Object(o.a)(n,2),s=c[0],i=c[1],l=Object(r.useState)(null),u=Object(o.a)(l,2),j=u[0],O=u[1],p=Object(v.c)(),x=Object(r.useState)(!1),m=Object(o.a)(x,2),g=m[0],f=m[1],y=Object(r.useState)(" "),N=Object(o.a)(y,2),S=N[0],k=N[1],C=Object(r.useState)("error"),I=Object(o.a)(C,2),E=I[0],A=I[1];Object(r.useEffect)((function(){fetch("data/timezones.json").then((function(e){return e.json()})).then((function(e){i(Object(h.a)(e))})),fetch("data/countries.json").then((function(e){return e.json()})).then((function(e){O(Object(h.a)(e))}))}),[]);var _=function(){a(!1)};return Object(ie.jsxs)("div",{className:"orgform",children:[Object(ie.jsx)(Be,{message:S,alertopen:g,setAlertopen:f,type:E}),Object(ie.jsx)(ge.a,{open:t,onClose:_,"aria-labelledby":"form-dialog-title",children:Object(ie.jsx)("div",{class:"main-block",children:Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("creating new Organisation");var t=e.target.OrgName.value,a=e.target.OrgType.value,r=e.target.Country.value,n=e.target.Timezone.value,c=t.toString();console.log(c,c.length),c.length<5?(k("Min Org name length : 5"),A("error"),f(!0)):c.length>30?(k("Max Org name length : 30"),A("error"),f(!0)):(p(function(e,t,a,r){return function(){var n=Object(b.a)(d.a.mark((function n(c){var s,i,o,l,u,j,b,h,O;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(localStorage.getItem("supabase.auth.token")),s=i?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside CreateOrg"),o=w+"/orgs",l=JSON.parse(localStorage.getItem("ipinfo"))?JSON.parse(localStorage.getItem("ipinfo")).loc:"0,0",u=l.split(","),j={Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},b=JSON.stringify({Name:e.toString(),type:t.toString(),lat:Number(u[0]),lon:Number(u[1]),country:a.toString(),timezone:r.toString()}),h={method:"post",url:o,headers:j,data:b},n.prev=9,c(Ue()),n.next=13,ve()(h);case 13:O=n.sent,c(Pe(O.data.payload)),_e("New organisation created"),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(9),c(Fe(n.t0));case 21:case"end":return n.stop()}}),n,null,[[9,18]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,r,n)),_())},children:[Object(ie.jsx)("h1",{children:"Create a New Organisation"}),Object(ie.jsxs)("fieldset",{children:[Object(ie.jsx)("legend",{children:Object(ie.jsx)("h3",{children:"Organisation Details"})}),Object(ie.jsxs)("div",{className:"account-details",children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Name of Organization *"}),Object(ie.jsx)("input",{type:"text",name:"OrgName",required:!0,maxLength:"30",minLength:"5"})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Type of Organization *"}),Object(ie.jsxs)("select",{name:"OrgType",children:[Object(ie.jsx)("option",{value:"private",children:"private"}),Object(ie.jsx)("option",{value:"llc",children:"llc"})]})]})]})]}),Object(ie.jsx)("fieldset",{children:Object(ie.jsxs)("div",{className:"personal-details",children:[Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Address"}),Object(ie.jsx)("input",{type:"text",name:"address"})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"City*"}),Object(ie.jsx)("input",{type:"text",name:"OrgCity",required:!0})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Country*"}),Object(ie.jsx)("select",{id:"country",name:"Country",children:j&&j.map((function(e){return"United States"===e.name?Object(ie.jsx)("option",{value:e.name,selected:!0,children:e.name},e.code):Object(ie.jsx)("option",{value:e.name,children:e.name},e.code)}))})]})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Timezone*"}),Object(ie.jsx)("select",{id:"timezone",name:"Timezone",required:!0,children:s&&s.map((function(e,t){return Object(ie.jsx)("option",{value:e.offset,children:e.text},t)}))})]})]})}),Object(ie.jsx)("button",{type:"submit",children:"Create Organisation"})]})})})]})}function He(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(ie.jsxs)("div",{className:"center details-box",children:[Object(ie.jsxs)("div",{className:"center",children:[Object(ie.jsx)("h2",{children:"You are not a part of any Organisations"}),Object(ie.jsx)("p",{className:"center",children:"Create a New Organisation"})]}),Object(ie.jsx)("button",{onClick:function(){n(!0)},children:"Create New Organisation"}),a&&Object(ie.jsx)(Je,{open:a,setOpen:n})]})}var We=w+"/users",Ge=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,r=JSON.parse(localStorage.getItem("supabase.auth.token")),a=r?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside fetchUser"),n={url:We,method:"GET",headers:{Authorization:"Bearer ".concat(a)}},e.prev=5,t(Ye()),e.next=9,ve()(n);case 9:c=e.sent,t(Qe(c.data.payload)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(Ke(e.t0));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()};function qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status<200||t.status>299)){e.next=4;break}return e.next=3,t.json();case 3:throw e.sent;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=function(){return{type:A}},Qe=function(e){return{type:_,payload:e}},Ke=function(e){return{type:T,payload:{error:e}}};function Xe(e){var t=e.error,a=Object(r.useState)(null),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1],d=Object(r.useState)(!1),b=Object(o.a)(d,2),O=b[0],p=b[1],x=Object(r.useState)("error"),m=Object(o.a)(x,2),g=m[0],f=(m[1],Object(v.c)());Object(r.useEffect)((function(){fetch("data/countries.json").then((function(e){return e.json()})).then((function(e){s(Object(h.a)(e))}))}),[]);return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:u,alertopen:O,setAlertopen:p,type:g}),t&&Object(ie.jsx)(Re,{message:t.message,alertopen:"true"}),Object(ie.jsxs)("div",{className:" main",children:[Object(ie.jsx)("div",{className:" center main-block",children:Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("creating new User");var t=e.target.City.value,a=e.target.Country.value,r=e.target.ContactNumber.value;console.log(10!==r.length&&0!==r.length),10!==r.length&&0!==r.length?(j("Please enter a valid contact number"),p(!0)):f(function(e,t,a){var r=null;r=JSON.parse(localStorage.getItem("supabase.auth.token"))?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside Create User");var n=new Headers;n.append("Authorization","Bearer ".concat(r)),n.append("Content-Type","application/json");var c={method:"POST",headers:n,body:JSON.stringify({city:e.toString(),country:t.toString(),phone:a.toString()}),redirect:"follow"};return function(e){return e(Ye()),fetch(We,c).then(qe).then((function(e){return e.json()})).then((function(t){return e(Qe(t.payload)),console.log(t.payload),t.payload})).catch((function(t){e(Ke(t)),console.log(t)}))}}(t,a,r))},children:[Object(ie.jsx)("h1",{children:"Please complete your profile "}),Object(ie.jsx)("fieldset",{children:Object(ie.jsx)("div",{className:"personal-details",children:Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Contact Number"}),Object(ie.jsx)("input",{type:"number",name:"ContactNumber",minLength:"10",maxLength:"10"})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"City"}),Object(ie.jsx)("input",{type:"text",name:"City"})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("label",{children:"Country"}),Object(ie.jsx)("select",{id:"country",name:"Country",children:c&&c.map((function(e){return"United States"===e.name?Object(ie.jsx)("option",{value:e.name,selected:!0,children:e.name},e.code):Object(ie.jsx)("option",{value:e.name,children:e.name},e.code)}))})]})]})})}),Object(ie.jsxs)("div",{className:"button-flex-div",children:[Object(ie.jsx)("button",{className:"button",type:"submit",children:"Confirm "}),Object(ie.jsx)("button",{className:"button grey-btn",type:"submit",children:"Skip for now"})]})]})}),Object(ie.jsx)("p",{className:"center",children:"if you already have an account, please refresh"})]})]})}function Ze(){return Object(ie.jsx)("div",{className:"main ",children:Object(ie.jsx)("div",{className:"center details-box",children:Object(ie.jsx)("h4",{children:"Loading..."})})})}var $e=a(75);function et(e){var t=Object(r.useState)(JSON.parse(localStorage.getItem("ipinfo"))),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({}),i=Object(o.a)(s,2),u=(i[0],i[1]),j=Object(r.useState)(),O=Object(o.a)(j,2),p=O[0],x=O[1],m=Object(v.d)((function(e){return{loading:e.user.loading,error:e.user.error,isUserLoggedIn:e.user.isUserLoggedIn}})),g=m.loading,f=m.error,N=m.isUserLoggedIn,S=Object(v.d)((function(e){return{orgloading:e.organisations.loading,numberofOrgs:e.organisations.numberOfOrgs,orgArray:Object(h.a)(e.organisations.orgArray),currentOrgID:e.organisations.CurrentOrgID}})),w=S.numberofOrgs,k=S.currentOrgID,C=S.orgArray,I=S.orgloading;Object(r.useEffect)((function(){!function(){var e=C.find((function(e){return e.id===k}));x(e)}()}),[k]);var E=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("ipinfo")),a=JSON.parse(localStorage.getItem("supabase.auth.token")),c(null===t?{}:t),u(a.currentSession.user);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){E()}),[]),g||I?Object(ie.jsx)(Ze,{}):N?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Dashboard"}),Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"flex-div",children:[Object(ie.jsx)("div",{className:"mid-details-box shadow ",children:0===w?Object(ie.jsx)(He,{}):Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("h3",{children:["Number of Organisation you are part of : ",w]}),p&&Object(ie.jsxs)("div",{className:"mid-details-box",children:[Object(ie.jsxs)("h4",{children:["Current Org : ",p.name," "]}),Object(ie.jsxs)("p",{children:["Current Org Country : ",p.country]}),Object(ie.jsx)("div",{children:Object(ie.jsx)(l.b,{to:"/dash/organisationSettings",children:Object(ie.jsx)(y.a,{variant:"contained",color:"white",startIcon:Object(ie.jsx)($e.a,{}),children:"Settings"})})})]})]})}),Object(ie.jsxs)("div",{className:"table mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"title",children:" IP Information"}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsx)("div",{children:null==n||""==n||"undefined"==n?Object(ie.jsx)("div",{children:" Error in fetching Ip Information "}):Object.keys(n).map((function(e,t){return Object(ie.jsxs)("p",{children:[Object(ie.jsxs)("span",{className:"title",children:[" ",e]})," :"," ",n[e]]},t)}))})]})]}),Object(ie.jsx)("div",{className:"",children:Object(ie.jsx)("div",{className:" table-div shadow",children:Object(ie.jsx)("div",{children:Object(ie.jsx)(De,{})})})})]})]})}):Object(ie.jsx)(Xe,{error:f})}document.title="Dashboard | Lazarus Network";a(191);var tt=a(31),at=a(127),rt=a.n(at),nt=(a(196),function(e){switch(e){case 0:case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return"Weak"}});function ct(e){var t=e.password,a=rt()(t).score;return Object(ie.jsx)("div",{className:"password-strength-meter",children:Object(ie.jsx)("progress",{className:"password-strength-meter-progress strength-".concat(nt(a)),value:a,max:"4"})})}function st(e){var t,a=e.password,n=Object(r.useState)(a),c=Object(o.a)(n,2);c[0],c[1];Object(r.useEffect)((function(){var e=setTimeout((function(){i()}),2e3);return function(){return clearTimeout(e)}}),[a]);var s,i=function(){document.getElementById("iscompromised").innerHTML="<span >&nbsp;We are checking if your password has ever been compromised...</span>",clearTimeout(t),t=setTimeout(j,1e3)},l=a,u="";function j(){console.log("mp");if(l!==u&&""!==(u=l)){var e=function(e){function t(e,t){return e<<t|e>>>32-t}function a(e){var t,a="";for(t=7;t>=0;t--)a+=(e>>>4*t&15).toString(16);return a}var r,n,c,s,i,o,l,u,j,d=new Array(80),b=1732584193,h=4023233417,O=2562383102,p=271733878,x=3285377520,m=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var r=e.charCodeAt(a);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)).length,g=new Array;for(n=0;n<m-3;n+=4)c=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),g.push(c);switch(m%4){case 0:n=2147483648;break;case 1:n=e.charCodeAt(m-1)<<24|8388608;break;case 2:n=e.charCodeAt(m-2)<<24|e.charCodeAt(m-1)<<16|32768;break;case 3:n=e.charCodeAt(m-3)<<24|e.charCodeAt(m-2)<<16|e.charCodeAt(m-1)<<8|128}for(g.push(n);g.length%16!=14;)g.push(0);for(g.push(m>>>29),g.push(m<<3&4294967295),r=0;r<g.length;r+=16){for(n=0;n<16;n++)d[n]=g[r+n];for(n=16;n<=79;n++)d[n]=t(d[n-3]^d[n-8]^d[n-14]^d[n-16],1);for(s=b,i=h,o=O,l=p,u=x,n=0;n<=19;n++)j=t(s,5)+(i&o|~i&l)+u+d[n]+1518500249&4294967295,u=l,l=o,o=t(i,30),i=s,s=j;for(n=20;n<=39;n++)j=t(s,5)+(i^o^l)+u+d[n]+1859775393&4294967295,u=l,l=o,o=t(i,30),i=s,s=j;for(n=40;n<=59;n++)j=t(s,5)+(i&o|i&l|o&l)+u+d[n]+2400959708&4294967295,u=l,l=o,o=t(i,30),i=s,s=j;for(n=60;n<=79;n++)j=t(s,5)+(i^o^l)+u+d[n]+3395469782&4294967295,u=l,l=o,o=t(i,30),i=s,s=j;b=b+s&4294967295,h=h+i&4294967295,O=O+o&4294967295,p=p+l&4294967295,x=x+u&4294967295}return(j=a(b)+a(h)+a(O)+a(p)+a(x)).toLowerCase()}(u),t=(e=e.toUpperCase()).substring(5);s&&s.abort(),(s=new XMLHttpRequest).onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;if(-1!==e.indexOf(t)){for(var a=e.split("\n"),r=0,n="times",c=0;c<a.length;c++)t==a[c].split(":")[0]&&(r=a[c].split(":")[1],1==a[c].split(":")[1]&&(n="time"));document.getElementById("iscompromised").innerHTML='<span style="color: #ff0000;">Oh no! This password was found <b>'+r+"</b> "+n+" in compromised passwords databases! </span>"}else document.getElementById("iscompromised")&&(document.getElementById("iscompromised").innerHTML='<span style="color: #339966;">Good news, this password has never been breached!</span>')}},s.open("GET","https://api.pwnedpasswords.com/range/"+e.substring(0,5)),s.send(),console.log("req")}}return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("ul",{className:"hsimp-checks",children:Object(ie.jsx)("p",{id:"iscompromised",children:Object(ie.jsx)("span",{children:"This password was not compromised in any database breach!!"})})}),Object(ie.jsx)("ul",{id:"password-checks",className:"hsimp-checks"})]})}function it(e){var t=e.auth,a=e.history,n=Object(r.useState)(!1),c=Object(o.a)(n,2),s=c[0],i=c[1],u=Object(r.useState)(""),j=Object(o.a)(u,2),h=j[0],O=j[1],p=Object(r.useState)(!1),x=Object(o.a)(p,2),m=x[0],g=x[1],f=Object(r.useState)(" "),v=Object(o.a)(f,2),y=v[0],N=v[1],S=Object(r.useState)("error"),w=Object(o.a)(S,2),k=w[0],C=w[1],I=Object(r.useState)(null),E=Object(o.a)(I,2),A=(E[0],E[1]);Object(r.useEffect)((function(){A(t.checkAuthenticated()),t.onAuthStateChange()}),[]);var _=function(){var e=Object(b.a)(d.a.mark((function e(r){var n,c,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target.elements.email.value,c=r.target.elements["password-box"].value,s=r.target.elements.repassword.value,!(c.toString().length<7)){e.next=9;break}N("password should be at least 7 letters"),g(!0),e.next=21;break;case 9:if(c===s){e.next=15;break}C("error"),N("passwords do not match"),g(!0),e.next=21;break;case 15:return e.next=17,t.signup(n,c);case 17:i=e.sent,o=i.user,(l=i.error)?(C("error"),N(l.message),g(!0)):o?(C("success"),N("Login using confirmation link sent to you email account"),g(!0)):a.push("/failure");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(d.a.mark((function e(r){var n,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=r.target.elements.inemail.value,c=r.target.elements.inpassword.value,e.next=5,t.login(n,c);case 5:if(s=e.sent,i=s.user,(o=s.error)&&(N(o.message),C("error"),g(!0)),!i){e.next=13;break}return e.next=12,t.checkAuthenticated();case 12:a.push("/success");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(d.a.mark((function e(){var r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.google();case 2:if(r=e.sent,n=r.user,r.session,(c=r.error)&&(N(c.message),C("error"),g(!0)),!n){e.next=11;break}return e.next=10,t.checkAuthenticated();case 10:a.push("/success");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(){var r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.github();case 2:if(r=e.sent,n=r.user,r.session,(c=r.error)&&(N(c.message),C("error"),g(!0)),!n){e.next=11;break}return e.next=10,t.checkAuthenticated();case 10:a.push("/success");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:y,alertopen:m,setAlertopen:g,type:k}),Object(ie.jsxs)("div",{className:"container ".concat(s?"right-panel-active":""," "),id:"container",children:[Object(ie.jsx)("div",{className:"form-container sign-up-container",children:Object(ie.jsxs)("form",{className:"form",onSubmit:_,children:[Object(ie.jsx)("h2",{children:"Create Account"}),Object(ie.jsxs)("div",{className:"social-container",children:[Object(ie.jsx)("a",{href:"#",className:"social",onClick:D,children:Object(ie.jsx)("i",{children:Object(ie.jsx)(tt.g,{})})}),Object(ie.jsx)("a",{href:"#",className:"social",onClick:U,children:Object(ie.jsx)("i",{children:Object(ie.jsx)(tt.f,{})})})]}),Object(ie.jsx)("span",{children:"or use your email for registration"}),Object(ie.jsx)("input",{type:"email",placeholder:"Email",id:"email"}),Object(ie.jsx)("input",{type:"password",placeholder:"Password",id:"password-box",onChange:function(e){O(e.target.value)}}),Object(ie.jsx)(ct,{password:h}),Object(ie.jsx)("input",{type:"password",placeholder:"Confirm Password",id:"repassword"}),Object(ie.jsx)("button",{type:"submit",children:"Sign Up"}),Object(ie.jsx)(st,{password:h})]})}),Object(ie.jsx)("div",{className:"form-container sign-in-container",children:Object(ie.jsxs)("form",{className:"form",onSubmit:T,children:[Object(ie.jsx)("h1",{children:"Sign in"}),Object(ie.jsxs)("div",{className:"social-container",children:[Object(ie.jsx)("a",{href:"#",className:"social",onClick:D,children:Object(ie.jsx)("i",{children:Object(ie.jsx)(tt.g,{})})}),Object(ie.jsx)("a",{href:"#",className:"social",onClick:U,children:Object(ie.jsx)("i",{children:Object(ie.jsx)(tt.f,{})})})]}),Object(ie.jsx)("span",{children:"or use your account"}),Object(ie.jsx)("input",{type:"email",placeholder:"Email",id:"inemail"}),Object(ie.jsx)("input",{type:"password",placeholder:"Password",id:"inpassword"}),Object(ie.jsx)(l.b,{to:"/resetpassword",children:Object(ie.jsx)("a",{children:"forgot password?"})}),Object(ie.jsx)("button",{type:"submit",children:"Sign In"})]})}),Object(ie.jsx)("div",{className:"overlay-container",children:Object(ie.jsxs)("div",{className:"overlay",children:[Object(ie.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(ie.jsx)("h2",{children:"Welcome Back!"}),Object(ie.jsx)("p",{children:"To keep connected with us please login with your personal info"}),Object(ie.jsx)("button",{className:"ghost",id:"signIn",onClick:function(){return i(!1)},children:"Sign In"})]}),Object(ie.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(ie.jsx)("h2",{children:"Hello, Friend!"}),Object(ie.jsx)("p",{children:"Enter your personal details and start journey with us"}),Object(ie.jsx)("button",{className:"ghost",id:"signUp",onClick:function(){return i(!0)},children:"Sign Up"})]})]})})]})]})}document.title=" Auth | Lazarus Network";var ot=a(88),lt=["component","auth"],ut=function(e){var t=e.component,a=e.auth,r=Object(ot.a)(e,lt);return Object(ie.jsx)(u.b,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return a.isSessionActive()?Object(ie.jsx)(t,Object(i.a)(Object(i.a)({},e),{},{auth:a})):Object(ie.jsx)(u.a,{to:"/auth"})}}))},jt=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ipinfo.io/json?token=".concat("116e07f676e6cc"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,localStorage.setItem("ipinfo",JSON.stringify(a)),console.log("success page ",localStorage.getItem("ipinfo")),_e("Logged In");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(e){var t=e.history;return Object(r.useEffect)((function(){jt(),t.push("/dash")}),[]),Object(ie.jsx)("div",{className:"center",children:" Success "})},bt=function(e){var t=e.auth,a=e.history,n=e.location;return console.log("IN FAILURE"),Object(r.useEffect)((function(){t.checkAuthenticated().then((function(e){t.setAuthenticated(e),a.push("/auth")}))}),[]),Object(ie.jsxs)("div",{className:"center",children:[" Error ",n.search," "]})};function ht(e){e.auth;var t=Object(u.h)();return Object(r.useEffect)((function(){-1!=t.pathname.indexOf("access_token")&&(localStorage.setItem("location",function(e){for(var a=t.pathname.substring(1).split("&"),r=0;r<a.length;r++){var n=a[r].split("=");if(n[0]==e)return n[1]}return!1}("type")),console.log(localStorage.getItem("location")))}),[]),null}function Ot(e){return Object(ie.jsxs)("div",{className:"center",children:[Object(ie.jsx)("h1",{children:"Your email has been verified ."}),Object(ie.jsx)("h4",{children:"You can now login to access your dashboard"}),Object(ie.jsx)("div",{className:"center",children:Object(ie.jsx)(l.b,{to:"/auth",children:Object(ie.jsx)("button",{children:"to to signin page"})})})]})}function pt(){return Object(ie.jsx)("div",{className:"center",children:Object(ie.jsx)(l.b,{to:"/dash",children:Object(ie.jsx)("button",{children:"go to dashboard"})})})}var xt=a(27),mt=a(54),gt=(a(197),a(65)),ft={membershipArray:[],numberOfMembers:0,error:null,loading:!1};var vt={orgArray:[],error:null,loading:!1,numberOfOrgs:0,CurrentOrgID:null};var yt={currentPlans:null,error:null,loading:!1};var Nt={allSubscriptions:null,error:null,loading:!1};var St=I,wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return I;case C:return E;default:return e}},kt={currentUserData:null,error:null,loading:!1,isUserLoggedIn:!1};var Ct={walletData:null,error:null,loading:!1};var It=Object(gt.combineReducers)({theme:wt,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,isUserLoggedIn:!1,error:null});case _:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,isUserLoggedIn:!0,currentUserData:t.payload});case T:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,isUserLoggedIn:!1,error:t.payload.error,currentUserData:null});default:return e}},organisations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,numberOfOrgs:0,error:null,CurrentOrgID:null});case U:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,orgArray:Object(h.a)(t.payload),numberOfOrgs:Object(h.a)(t.payload).length,CurrentOrgID:Object(h.a)(t.payload)[0].id});case P:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error,CurrentOrgID:null,orgArray:[]});case F:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case L:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:null,orgArray:[].concat(Object(h.a)(e.orgArray),[t.payload]),numberOfOrgs:e.numberOfOrgs+1,CurrentOrgID:t.payload.id});case z:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error});case M:return Object(i.a)(Object(i.a)({},e),{},{CurrentOrgID:t.payload});default:return e}},memberships:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case B:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,membershipArray:Object(h.a)(t.payload),numberOfMembers:Object(h.a)(t.payload).length,error:null});case J:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,membershipArray:[],numberOfMembers:0,error:t.payload.error});case H:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case W:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:null,membershipArray:[].concat(Object(h.a)(e.membershipArray),[t.payload]),numberOfMembers:e.numberOfMembers+1});case G:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},plans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case V:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,currentPlans:t.payload});case Y:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error,currentPlans:null});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case K:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,walletData:t.payload});case X:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error,walletData:null});default:return e}},subscriptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case $:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,allSubscriptions:Object(h.a)(t.payload).filter((function(e){return 1==e.sub}))});case ee:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error,allSubscriptions:null});default:return e}}}),Et=function(e,t){return"USER_LOGOUT"===t.type?It(void 0,t):It(e,t)};var At=function(){return{type:q}},_t=function(e){return{type:V,payload:e}},Tt=function(e){return{type:Y,payload:{error:e}}},Dt=w,Ut=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,r=JSON.parse(localStorage.getItem("supabase.auth.token")),a=r?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,n={method:"get",url:Dt+"/wallet",headers:{Authorization:"Bearer ".concat(a)}},e.prev=5,t(Pt()),e.next=9,ve()(n);case 9:c=e.sent,t(Ft(c.data.payload)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(Lt(e.t0));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},Pt=function(){return{type:Q}},Ft=function(e){return{type:K,payload:e}},Lt=function(e){return{type:X,payload:{error:e}}},zt=function(){return{type:Z}},Mt=function(e){return{type:$,payload:e}},Rt=function(e){return{type:ee,payload:{error:e}}},Bt=function(){return{type:"FETCH_CREATE_BEGIN"}},Jt=function(e){return{type:"FETCH_CREATE_SUCCESS",payload:e}},Ht=function(e){return{type:"FETCH_CREATE_FAILURE",payload:{error:e}}},Wt=function(e){var t=e.auth,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(v.d)((function(e){return{userData:e.user.currentUserData,loading:e.user.loading,error:e.user.error,theme:e.theme,isUserLoggedIn:e.user.isUserLoggedIn}})),j=(i.loading,i.error,i.userData,i.theme,i.isUserLoggedIn),O=Object(v.d)((function(e){return{organisationList:Object(h.a)(e.organisations.orgArray),numberOfOrgs:e.organisations.numberOfOrgs,currentOrgId:e.organisations.CurrentOrgID}})),p=(O.organisationList,O.numberOfOrgs),x=O.currentOrgId,m=Object(v.c)();Object(r.useEffect)((function(){m(Ge()),m(function(){var e,t=JSON.parse(localStorage.getItem("supabase.auth.token"));return e=t?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log(e),console.log("inside fetchOrg"),function(t){return t(re()),fetch(te,{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(ae).then((function(e){return e.json()})).then((function(e){return t(ne(e.payload)),e.payload})).catch((function(e){t(ce(e)),console.log(e)}))}}()),m(function(){var e=Object(b.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("inside fetchPlans"),a=w+"/plans",e.prev=2,t(At()),e.next=6,ve.a.get(a);case 6:r=e.sent,console.log(r),t(_t(r.data.payload)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t(Tt(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()),m(Ut())}),[]),Object(r.useEffect)((function(){m(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(a){var r,n,c,s,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("inside fetch Subscription"),r=w+"/plans/subscription/"+e,n=null,c=JSON.parse(localStorage.getItem("supabase.auth.token")),n=c?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,s={url:r,method:"GET",headers:{Authorization:"Bearer ".concat(n)}},t.prev=6,a(zt()),t.next=10,ve()(s);case 10:i=t.sent,console.log(i),a(Mt(i.data.payload)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),a(Rt(t.t0));case 18:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}()}(x))}),[x]);var g=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ipinfo.io/json?token=".concat("116e07f676e6cc"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,JSON.stringify(a)!==localStorage.getItem("ipinfo")&&localStorage.setItem("ipinfo",JSON.stringify(a));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){g()}),[]),Object(r.useEffect)(Object(b.a)(d.a.mark((function e(){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getAccount(),e.next=3,t.sdk.from("profiles").select("avatar_url").filter("id","eq",a.id);case 3:r=e.sent,null===(n=r.data)||null==n[0]?console.log("no profile data"):localStorage.setItem("avatar_url",n[0].avatar_url);case 6:case"end":return e.stop()}}),e)}))),[]);var f=Object(u.g)(),y=function(){var e=Object(b.a)(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:a=e.sent,(r=a.error)&&console.log(r),m({type:"USER_LOGOUT"}),_e("Logged Out"),localStorage.removeItem("ipinfo"),f.push("/auth");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsx)("div",{style:{display:"flex",height:"100vh",overflow:"scroll initial",left:"0"},children:Object(ie.jsxs)(xt.c,{collapsed:c,children:[Object(ie.jsx)(xt.f,{children:Object(ie.jsx)(xt.a,{iconShape:"square",children:Object(ie.jsx)(xt.b,{onClick:function(){return s(!c)},icon:Object(ie.jsx)("img",{width:20,height:20,src:"favicon-lazarus.png"}),children:"Lazarus Network"})})}),Object(ie.jsx)(xt.d,{children:Object(ie.jsxs)(xt.a,{iconShape:"square",children:[!c&&Object(ie.jsx)("p",{className:"tag",children:"\xa0 home"}),Object(ie.jsxs)(xt.b,{title:"Dashboard",icon:Object(ie.jsx)(tt.c,{}),children:["Dashboard",Object(ie.jsx)(l.b,{to:"/dash/"})]}),Object(ie.jsxs)(xt.b,{title:"Organisations",icon:Object(ie.jsx)(tt.a,{}),children:["Organisations",Object(ie.jsx)(l.b,{to:"/dash/organisations"})]}),!c&&Object(ie.jsx)("p",{className:"tag",children:"\xa0 services"}),j&&p?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(xt.b,{title:"AVPN",icon:Object(ie.jsx)(tt.j,{}),children:["Anonymous VPN",Object(ie.jsx)(l.b,{to:"/dash/anonymousVPN"})]}),Object(ie.jsxs)(xt.b,{title:"DVPN",icon:Object(ie.jsx)(tt.h,{}),children:["Dedicated VPN",Object(ie.jsx)(l.b,{to:"/dash/dedicatedNetwork"})]})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(xt.b,{title:"AVPN",className:"disabled",icon:Object(ie.jsx)(tt.j,{color:"grey"}),children:"Anonymous VPN"}),Object(ie.jsx)(xt.b,{title:"DVPN",className:"disabled",icon:Object(ie.jsx)(tt.h,{color:"grey"}),children:"Dedicated Network"})]}),!c&&Object(ie.jsx)("p",{className:"tag",children:"\xa0 billing"}),Object(ie.jsxs)(xt.b,{title:"Billing",icon:Object(ie.jsx)(tt.e,{}),children:["Billing",Object(ie.jsx)(l.b,{to:"/dash/billing"})]}),Object(ie.jsxs)(xt.b,{title:"Wallet",icon:Object(ie.jsx)(tt.k,{}),children:["Wallet",Object(ie.jsx)(l.b,{to:"/dash/wallet"})]}),!c&&Object(ie.jsx)("p",{className:"tag",children:"\xa0 settings"}),Object(ie.jsxs)(xt.b,{title:"Profile",icon:Object(ie.jsx)(tt.i,{}),children:["Profile",Object(ie.jsx)(l.b,{to:"/dash/profile"})]}),Object(ie.jsxs)(xt.b,{title:"Settings",icon:Object(ie.jsx)(tt.b,{}),children:["Settings",Object(ie.jsx)(l.b,{to:"/dash/settings"})]})]})}),Object(ie.jsx)(xt.e,{children:Object(ie.jsx)(xt.a,{iconShape:"circle",children:Object(ie.jsx)(xt.b,{onClick:function(){y()},icon:Object(ie.jsx)(mt.b,{}),children:"Logout"})})})]})})},Gt=Object(f.a)((function(e){return{table:{minWidth:650,backgroundColor:e.palette.background.paper}}}));function qt(e,t,a,r,n){return{name:e,calories:t,fat:a,carbs:r,protein:n}}var Vt=[qt("Frozen yoghurt",159,6,24,4),qt("Ice cream sandwich",237,9,37,4.3),qt("Eclair",262,16,24,6),qt("Cupcake",305,3.7,67,4.3),qt("Gingerbread",356,16,49,3.9)];function Yt(){var e=Gt();return Object(ie.jsx)(we.a,{component:Ie.a,children:Object(ie.jsxs)(ye.a,{className:e.table,"aria-label":"simple table",children:[Object(ie.jsx)(ke.a,{children:Object(ie.jsxs)(Ce.a,{children:[Object(ie.jsx)(Se.a,{children:"Dessert (100g serving)"}),Object(ie.jsx)(Se.a,{align:"right",children:"Calories"}),Object(ie.jsx)(Se.a,{align:"right",children:"Fat\xa0(g)"}),Object(ie.jsx)(Se.a,{align:"right",children:"Carbs\xa0(g)"}),Object(ie.jsx)(Se.a,{align:"right",children:"Protein\xa0(g)"})]})}),Object(ie.jsx)(Ne.a,{children:Vt.map((function(e){return Object(ie.jsxs)(Ce.a,{children:[Object(ie.jsx)(Se.a,{component:"th",scope:"row",children:e.name}),Object(ie.jsx)(Se.a,{align:"right",children:e.calories}),Object(ie.jsx)(Se.a,{align:"right",children:e.fat}),Object(ie.jsx)(Se.a,{align:"right",children:e.carbs}),Object(ie.jsx)(Se.a,{align:"right",children:e.protein})]},e.name)}))})]})})}var Qt=a(265),Kt=a(275),Xt=(a(96),a(258)),Zt=a(257),$t=a(256),ea=[{value:"USD",label:"$"},{value:"EUR",label:"\u20ac"},{value:"BTC",label:"\u0e3f"},{value:"ETH",label:"\u039e"}];function ta(){var e=n.a.useState("USD"),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),l=(i[0],i[1],Object(r.useState)({name:"",number:"",exp:"",cvv:""})),u=Object(o.a)(l,2);u[0],u[1];return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Billing"}),Object(ie.jsx)("div",{className:"flex-div",children:Object(ie.jsxs)("div",{className:"table  mid-details-box",children:[Object(ie.jsxs)("div",{className:"table-top",children:[Object(ie.jsx)("div",{className:"title",children:" Transaction History"}),Object(ie.jsx)(Qt.a,{id:"standard-select-currency",select:!0,value:a,onChange:function(e){c(e.target.value)},helperText:"Please select your currency",children:ea.map((function(e){return Object(ie.jsxs)(Kt.a,{value:e.value,children:[e.label," "," "," ",e.value]},e.value)}))})]}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("div",{className:"mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"title",children:"Billing"}),Object(ie.jsx)("div",{className:"filters"}),Object(ie.jsx)("div",{className:"details-box",children:"No Current Bills"})]})]})})]})})}var aa=Object(f.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));function ra(e){var t=e.userid,a=e.url,n=e.size,c=e.onUpload,s=Object(r.useState)(null),i=Object(o.a)(s,2),l=i[0],u=i[1],j=Object(r.useState)(!1),h=Object(o.a)(j,2),p=h[0],x=h[1],m=aa(),g=new xe;function f(){return(f=Object(b.a)(d.a.mark((function e(a){var r,n,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x(!0),a.target.files&&0!==a.target.files.length){e.next=4;break}throw new Error("You must select an image to upload.");case 4:return r=a.target.files[0],n="".concat(t),console.log(n),e.next=9,g.sdk.storage.from("avatars").upload(n,r,{cacheControl:"3600",upsert:!0});case 9:if(s=e.sent,!(i=s.error)){e.next=14;break}throw console.log(i),i;case 14:o=g.sdk.storage.from("avatars").getPublicUrl(n),l=o.publicURL,console.log(l),c(l),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),alert(e.t0.message);case 23:return e.prev=23,x(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,19,23,26]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){a&&u(a)}),[a]),Object(ie.jsxs)("div",{children:[l?Object(ie.jsx)(O.a,{src:l,alt:"Avatar",className:m.large}):Object(ie.jsx)("div",{className:"avatar no-image",style:{height:n,width:n},children:Object(ie.jsx)(O.a,{className:m.large})}),Object(ie.jsxs)("div",{style:{width:n},children:[Object(ie.jsx)("label",{className:"button primary block ",htmlFor:"single",children:p?"Uploading ...":"Upload"}),Object(ie.jsx)("input",{style:{},type:"file",id:"single",accept:"image/*",onChange:function(e){return f.apply(this,arguments)},disabled:p})]})]})}function na(e){var t=e.auth,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1],h=Object(r.useState)({}),O=Object(o.a)(h,2),p=(O[0],O[1],Object(r.useState)(!1)),x=Object(o.a)(p,2),m=(x[0],x[1]),g=Object(r.useState)(!1),f=Object(o.a)(g,2),y=f[0],N=f[1],S=Object(r.useState)(" "),w=Object(o.a)(S,2),k=w[0],C=w[1],I=Object(r.useState)("error"),E=Object(o.a)(I,2),A=E[0],_=E[1],T=Object(r.useState)(),D=Object(o.a)(T,2),U=D[0],P=D[1],F=Object(v.d)((function(e){return{userData:e.user.currentUserData}})).userData,L=t.getAccount();function z(){return(z=Object(b.a)(d.a.mark((function e(){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),j(L.email),e.next=5,t.sdk.from("profiles").select("username , avatar_url").filter("id","eq",L.id);case 5:if(a=e.sent,r=a.data,n=a.error,console.log(r[0].username,r[0].avatar_url,n),!n){e.next=11;break}throw n;case 11:s(r[0].username),P(r[0].avatar_url),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:return e.prev=17,m(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,15,17,20]])})))).apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(d.a.mark((function e(a){var r,n,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.username,n=a.avatar_url,""!==r&&null!==r){e.next=6;break}C("user's name cannot be null"),N(!0),e.next=29;break;case 6:return e.prev=6,m(!0),c=t.getAccount(),s={id:c.id,username:r,avatar_url:n,updated_at:new Date},e.next=12,t.sdk.from("profiles").upsert(s,{returning:"minimal"});case 12:if(i=e.sent,!(o=i.error)){e.next=16;break}throw o;case 16:C("Profile update successful"),_("success"),N(!0),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(6),C("Profile update failed"),_("error"),N(!0);case 26:return e.prev=26,m(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[6,21,26,29]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){z.apply(this,arguments)}()}),[F]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:k,alertopen:y,setAlertopen:N,type:A}),Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Profile"}),Object(ie.jsx)("div",{className:"profile-pic",children:Object(ie.jsxs)("div",{className:"pic-avatar",children:[Object(ie.jsx)(ra,{userid:L.id,url:U,size:100,onUpload:function(e){P(e),M({username:c,avatar_url:e})}}),Object(ie.jsxs)("div",{className:" pic-description",children:[Object(ie.jsx)("h4",{children:c}),Object(ie.jsxs)("p",{children:[" ",u]})]})]})}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("div",{className:"details-box shadow ",children:[Object(ie.jsx)("div",{className:"box-title",children:"Personal details"}),Object(ie.jsx)("div",{className:"inner-details",children:Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M({username:c,avatar_url:U})},children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"tag",children:"name"}),Object(ie.jsx)("input",{className:"textfield",label:"name",value:c,onChange:function(e){s(e.target.value)}}),Object(ie.jsx)("div",{className:"tag",children:"email"}),Object(ie.jsx)("input",{className:"textfield",label:"email",value:u,disabled:!0})]}),Object(ie.jsx)("button",{type:"submit",className:"save-btn",children:"update"})]})})]}),Object(ie.jsxs)("div",{className:"details-box shadow",children:[Object(ie.jsx)("div",{className:"box-title",children:"Other Details"}),Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("input",{className:"textfield",id:"outlined-helperText",placeholder:"address line",variant:"outlined"}),Object(ie.jsx)("input",{className:"textfield",id:"outlined-helperText",placeholder:"landmark",variant:"outlined"})]}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("input",{className:"textfield",id:"outlined-helperText",placeholder:"city",variant:"outlined"}),Object(ie.jsx)("input",{className:"textfield",id:"outlined-helperText",placeholder:"country",variant:"outlined"})]}),Object(ie.jsx)("button",{className:"save-btn",children:"Save changes"})]})]})]})]})}document.title="Profile | Lazarus Network";var ca=a(262),sa=a(267),ia=a(261),oa=a(100),la=a(266),ua=a(270),ja=a(273),da=a(259),ba=a(255),ha=a(48),Oa=w+"/memberships/";function pa(e){return xa.apply(this,arguments)}function xa(){return(xa=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.status<200||t.status>299)){e.next=5;break}return console.log(t.json()),e.next=4,t.json();case 4:throw e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ma=function(){return{type:R}},ga=function(e){return{type:B,payload:e}},fa=function(){return{type:H}},va=function(e){return{type:W,payload:e}},ya=function(e){return{type:G,payload:{error:e}}},Na=a(97),Sa=a(133);function wa(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],j=Object(r.useState)("error"),O=Object(o.a)(j,2),p=O[0],x=(O[1],Object(v.d)((function(e){return{currOrgId:e.organisations.CurrentOrgID,numberofOrgs:e.organisations.numberOfOrgs}}))),m=x.currOrgId,g=(x.numberofOrgs,Object(v.d)((function(e){return{currentMemberArray:Object(h.a)(e.memberships.membershipArray),error:e.memberships.error}}))),f=(g.membersOrg,g.currentMemberArray),N=(g.error,Object(r.useState)("Member")),S=Object(o.a)(N,2),w=S[0],k=S[1],C=Object(v.c)();Object(r.useEffect)((function(){var e;null!==m&&C((e=m,function(){var t=Object(b.a)(d.a.mark((function t(a){var r,n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("supabase.auth.token")),r=n?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside fetch members"),c={method:"get",url:Oa+e,headers:{Authorization:"Bearer ".concat(r)}},t.prev=5,a(ma()),t.next=9,ve()(c);case 9:s=t.sent,a(ga(s.data.payload)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),a(ce(t.t0));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[m]);var I=n.a.useState(null),E=Object(o.a)(I,2),A=E[0],_=E[1],T=function(e){_(e.currentTarget)},D=function(){_(null)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:a,alertopen:l,setAlertopen:u,type:p}),Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Org Settings"}),Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsx)("div",{className:"box-title",children:"Invite new member"}),Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.email.value,a=e.target.selectedRole.value,r=m,n=0!==f.length?f[0].org_name:null;""==t||null==t?(c("enter a valid Email-id"),u(!0)):f.find((function(e){return e.user_id===t}))?(c("This email is already a part of this orgaination"),u(!0)):""===a||null===a?(c("Select a valid role"),u(!0)):null===n||""===n?(c("an error occured , Please try again or Refresh"),u(!0)):(console.log(t,a,r,n),C(function(e,t,a,r){var n=null;n=JSON.parse(localStorage.getItem("supabase.auth.token"))?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside invite member");var c=new Headers;c.append("Authorization","Bearer ".concat(n)),c.append("Content-Type","application/json");var s={method:"POST",headers:c,body:JSON.stringify({email:e.toString(),role:t.toString(),org_id:a,org_name:r.toString()}),redirect:"follow"};return function(e){return e(fa()),fetch(Oa,s).then(pa).then((function(e){return e.json()})).then((function(t){return e(va(t.payload)),console.log(t.payload),t.payload})).catch((function(t){e(ya(t)),console.log(t)}))}}(t,a,r,n)))},children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsxs)("div",{className:"row-div",children:[Object(ie.jsxs)("p",{className:"info-txt",children:[Object(ie.jsx)(ha.b,{})," Invited member must have an existing account."]}),Object(ie.jsxs)("p",{className:"info-txt",children:[Object(ie.jsx)(ha.b,{})," One member can have only one role."]})]}),Object(ie.jsxs)("div",{className:"row-div mid-details-box",children:[Object(ie.jsx)("input",{name:"email",type:"email",placeholder:"email"}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ba.a,{component:"legend",children:" Select role"}),Object(ie.jsxs)(ja.a,{onChange:function(e){return k(e.target.value)},"aria-label":"gender",name:"selectedRole",value:w,children:[Object(ie.jsx)(da.a,{value:"admin",control:Object(ie.jsx)(ua.a,{}),label:"Admin"}),Object(ie.jsx)(da.a,{value:"member",control:Object(ie.jsx)(ua.a,{}),label:"Member"})]})]})]})]}),Object(ie.jsx)("button",{type:"submit",className:"save-btn",children:"Invite"})]})]})}),Object(ie.jsxs)("div",{className:"mid-details-box",children:[Object(ie.jsx)("div",{className:"title",children:" All members"}),!f.length&&Object(ie.jsx)("div",{children:"No Members in this Organisation"}),f.map((function(e){return"owner"===e.role?Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)("div",{className:"email",children:e.user_id}),Object(ie.jsx)("div",{className:"role",children:e.role}),Object(ie.jsx)("div",{})]},e.ID):Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)("div",{className:"email",children:e.user_id}),Object(ie.jsx)("div",{className:"role",children:e.role}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Me.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:T,children:Object(ie.jsx)(Na.a,{})}),Object(ie.jsx)(Sa.a,{id:e.ID,anchorEl:A,keepMounted:!0,open:Boolean(A),onClose:D,children:Object(ie.jsx)(Kt.a,{onClick:void e.role,children:"change role"})})]})]},e.ID)}))]}),Object(ie.jsx)("div",{className:"center details-box",children:Object(ie.jsx)(y.a,{variant:"contained",color:"secondary",children:"Leave Organisation"})})]})]})}var ka=a(77),Ca=a(260),Ia=["English","Hindi"],Ea=["dark","light"],Aa=[{value:"USD",label:"$"},{value:"EUR",label:"\u20ac"},{value:"BTC",label:"\u0e3f"},{value:"ETH",label:"\u039e"}];function _a(e){e.auth;var t=Object(v.d)((function(e){return e})),a=Object(v.c)(),n=Object(r.useState)("English"),c=Object(o.a)(n,2),s=c[0],l=c[1],u=Object(r.useState)(t.theme),j=Object(o.a)(u,2),d=j[0],b=j[1],h=Object(r.useState)("USD"),O=Object(o.a)(h,2),p=O[0],x=O[1],m=Object(r.useState)({checkedA:!1,checkedB:!1}),g=Object(o.a)(m,2),f=g[0],y=g[1];Object(r.useEffect)((function(){"light"==d&&a({type:k}),"dark"==d&&a({type:C})}),[d]);var N=function(e){y(Object(i.a)(Object(i.a)({},f),{},Object(ka.a)({},e.target.name,e.target.checked)))};return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"box-title",children:"Change Language"}),Object(ie.jsx)(Qt.a,{id:"standard-select-language",select:!0,label:" ",value:s,onChange:function(e){l(e.target.value)},helperText:"Please select your language",children:Ia.map((function(e){return Object(ie.jsx)(Kt.a,{value:e,children:e},e)}))})]}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"box-title",children:"Change Theme"}),Object(ie.jsx)(Qt.a,{id:"standard-select-theme",select:!0,label:" ",value:d,onChange:function(e){b(e.target.value)},helperText:"Please select your theme",children:Ea.map((function(e){return Object(ie.jsx)(Kt.a,{value:e,children:e},e)}))})]}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"box-title",children:"Change Currency"}),Object(ie.jsx)(Qt.a,{id:"standard-select-theme",select:!0,label:" ",value:p,onChange:function(e){x(e.target.value)},helperText:"Please select your currency",children:Aa.map((function(e){return Object(ie.jsxs)(Kt.a,{value:e.value,children:[e.label," ",e.value]},e.value)}))})]})]})}),Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsx)("div",{className:"box-title",children:"Notification Settings"}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)(da.a,{control:Object(ie.jsx)(Ca.a,{disabled:!0,checked:f.checkedA,onChange:N,name:"checkedA",color:"primary"}),label:"Allow Browser Notifications"}),Object(ie.jsx)(da.a,{control:Object(ie.jsx)(Ca.a,{disabled:!0,checked:f.checkedB,onChange:N,name:"checkedB",color:"primary"}),label:"Recieve Montly Newsletter"})]})]})})]})})}function Ta(e){var t=e.auth,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)(" "),u=Object(o.a)(l,2),j=u[0],h=u[1],O=Object(r.useState)("error"),p=Object(o.a)(O,2),x=p[0],m=p[1],g=Object(r.useState)(" "),f=Object(o.a)(g,2),y=f[0],N=f[1],S=Object(v.d)((function(e){return{currentuserdata:e.user.currentUserData}})).currentuserdata,w=Object(v.c)(),k=Object(r.useState)(!!S&&S.mfa),C=Object(o.a)(k,2),I=C[0],E=C[1],A=Object(r.useState)({phone:S?S.phone:"",email:S?S.email:""}),_=Object(o.a)(A,2),T=_[0],D=_[1],U=function(){var e=Object(b.a)(d.a.mark((function e(a){var r,n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.target.elements.currentpassword.value,r=a.target.elements.newpassword.value,n=a.target.elements.repeatpassword.value,!(r.toString().length<8)){e.next=10;break}m("error"),h("password should be at least 8 letters"),s(!0),e.next=22;break;case 10:if(r===n){e.next=16;break}m("error"),h("passwords do not match"),s(!0),e.next=22;break;case 16:return e.next=18,t.updatePassword(r);case 18:c=e.sent,i=c.data,c.error,i?(m("success"),h("password Changed successfully"),s(!0),_e("Password Changed")):(m("error"),h("password Changed unsuccessful"),s(!0));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){e.preventDefault();var t,a=e.target.contactNumber.value;console.log(a),10!==a.length?(h("Please enter a valid contact number"),s(!0)):a===S.phone?(h("Phone number is same as before"),s(!0)):w((t=a,function(){var e=Object(b.a)(d.a.mark((function e(a){var r,n,c,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,n=JSON.parse(localStorage.getItem("supabase.auth.token")),r=n?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,console.log("inside updateUser"),c=JSON.stringify({phone:t.toString()}),s={Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},i={method:"patch",url:We,headers:s,data:c,redirect:"follow"},e.prev=7,e.next=10,ve()(i);case 10:o=e.sent,console.log(o),a(Ge()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:j,alertopen:c,setAlertopen:s,type:x}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsx)("div",{className:"box-title",children:"Change Password"}),Object(ie.jsxs)("form",{onSubmit:U,children:[Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsxs)("div",{className:"row-div",children:[Object(ie.jsxs)("p",{className:"info-txt",children:[Object(ie.jsx)(ha.b,{})," New password must be different from old password"]}),Object(ie.jsxs)("p",{className:"info-txt",children:[Object(ie.jsx)(ha.b,{})," Password must be atleast 8 characters"]})]}),Object(ie.jsxs)("div",{className:"row-div",children:[Object(ie.jsx)("input",{type:"password",placeholder:"current password",id:"currentpassword"}),Object(ie.jsx)("input",{id:"newpassword",type:"password",placeholder:"new password",onChange:function(e){N(e.target.value)}}),Object(ie.jsx)("input",{id:"repeatpassword",type:"password",placeholder:"confirm new password"}),Object(ie.jsx)(st,{password:y})]})]}),Object(ie.jsx)("button",{type:"submit",className:"save-btn",children:"save changes"})]})]})}),Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsxs)("div",{className:"inner-details",children:[Object(ie.jsx)("div",{className:"box-title",children:"Multi Factor authentication"}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"row-div",children:Object(ie.jsx)("p",{className:"info-txt",children:"Settings up multifactor mfaauthentication makes your account more secure"})}),Object(ie.jsx)(da.a,{control:Object(ie.jsx)(Ca.a,{disabled:!0,checked:I,onChange:function(e){E(e.target.checked)},name:"checkedA",color:"primary"}),label:"Setup Multifactor auth"})]})]})}),Object(ie.jsx)("div",{className:"details-box shadow ",children:Object(ie.jsx)("div",{className:"inner-details",children:Object(ie.jsxs)("form",{onSubmit:function(e){P(e)},children:[Object(ie.jsx)("div",{className:"box-title",children:"Contact Information"}),Object(ie.jsxs)("div",{className:"row",children:[Object(ie.jsx)("div",{className:"row-div",children:Object(ie.jsxs)("p",{className:"info-txt",children:[Object(ie.jsx)(ha.b,{})," this email /contact will be used for 2 factor authentication"]})}),Object(ie.jsxs)("div",{className:"row-div",children:[Object(ie.jsx)("input",{id:"contact",type:"number",name:"contactNumber",placeholder:"contact number",value:T.phone,onChange:function(e){D(Object(i.a)(Object(i.a)({},T),{},{phone:e.target.value}))},maxLength:"10"}),Object(ie.jsx)("input",{disabled:!0,id:"email",type:"email",placeholder:"email",value:T.email,onChange:function(e){D(Object(i.a)(Object(i.a)({},T),{},{email:e.target.value}))}})]})]}),Object(ie.jsx)("button",{type:"submit",className:"save-btn",children:"save changes"})]})})})]})]})}var Da=["children","value","index"];function Ua(e){var t=e.children,a=e.value,r=e.index,n=Object(ot.a)(e,Da);return Object(ie.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==r,id:"nav-tabpanel-".concat(r),"aria-labelledby":"nav-tab-".concat(r)},n),{},{children:a===r&&Object(ie.jsx)(la.a,{p:2,children:Object(ie.jsx)(oa.a,{children:t})})}))}function Pa(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function Fa(e){return Object(ie.jsx)(ia.a,Object(i.a)({component:"a",onClick:function(e){e.preventDefault()}},e))}var La=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function za(e){var t=e.auth,a=La(),r=n.a.useState(0),c=Object(o.a)(r,2),s=c[0],l=c[1];return Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Settings"}),Object(ie.jsxs)("div",{className:a.root,children:[Object(ie.jsx)(ca.a,{position:"static",children:Object(ie.jsxs)(sa.a,{variant:"fullWidth",value:s,onChange:function(e,t){l(t)},"aria-label":"nav tabs example",children:[Object(ie.jsx)(Fa,Object(i.a)({label:"Personalisation",href:"/drafts"},Pa(0))),Object(ie.jsx)(Fa,Object(i.a)({label:"Security",href:"/trash"},Pa(1)))]})}),Object(ie.jsx)(Ua,{value:s,index:0,children:Object(ie.jsx)(_a,{auth:t})}),Object(ie.jsx)(Ua,{value:s,index:1,children:Object(ie.jsx)(Ta,{auth:t})})]})]})}function Ma(e){var t=e.error;return Object(ie.jsx)("div",{children:Object(ie.jsx)("h3",{className:"center",children:t})})}var Ra=a(263);a(198);function Ba(e){var t=e.open,a=e.setOpen,n=e.planId,c=e.month,s=Object(v.c)(),i=Object(r.useState)(!1),l=Object(o.a)(i,2),u=l[0],j=(l[1],Object(r.useState)(!1)),O=Object(o.a)(j,2),p=(O[0],O[1],Object(r.useState)(" ")),x=Object(o.a)(p,2),m=(x[0],x[1],Object(r.useState)("error")),g=Object(o.a)(m,2),f=(g[0],g[1],Object(v.d)((function(e){return{selectedPlan:Object(h.a)(e.plans.currentPlans).find((function(e){return e.ID===n}))}})).selectedPlan),N=Object(v.d)((function(e){return{currentOrgId:e.organisations.CurrentOrgID}})).currentOrgId,S=Object(v.d)((function(e){return{wallet:e.wallet.walletData}})).wallet,k=function(){a(!1)};return Object(ie.jsxs)("div",{className:"orgform",children:[Object(ie.jsx)(Be,{}),Object(ie.jsxs)(ge.a,{open:t,onClose:k,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(ie.jsx)($t.a,{id:"alert-dialog-title",children:"Activate this service?"}),Object(ie.jsx)(Zt.a,{children:Object(ie.jsx)(Ra.a,{id:"alert-dialog-description",children:Object(ie.jsxs)("div",{className:"order-details",children:[Object(ie.jsxs)("div",{className:"order-header",children:[Object(ie.jsx)("h4",{className:"order-name",children:f.name}),c?Object(ie.jsxs)("p",{className:"order-cost",children:[f.plan_cost[0].cost,f.plan_cost[0].currency]}):Object(ie.jsxs)("p",{className:"order-cost",children:[f.plan_cost[1].cost,f.plan_cost[1].currency]})]}),Object(ie.jsx)("p",{className:"order-des",children:f.description}),Object(ie.jsx)("div",{children:Object(ie.jsxs)("ul",{className:"features-list",children:[Object.keys(f.features).map((function(e,t){return Object(ie.jsxs)("li",{children:[e," : ",f.features[e]]},t)})),Object(ie.jsxs)("li",{children:["time : ",c?" 1 month":" 1 year"]})]})}),Object(ie.jsxs)("div",{className:"",children:[Object(ie.jsxs)("div",{className:"order-tag",children:[Object(ie.jsx)("p",{children:"Available Wallet Balance :"}),Object(ie.jsxs)("div",{className:"",children:[S.balance," ",S.currency]})]}),Object(ie.jsxs)("div",{className:"order-tag",children:[Object(ie.jsx)("p",{children:"Total :"}),Object(ie.jsxs)("div",{className:"",children:[c?f.plan_cost[0].cost:f.plan_cost[1].cost," ",f.plan_cost[0].currency]})]})]})]})})}),Object(ie.jsxs)(Xt.a,{children:[Object(ie.jsx)(y.a,{onClick:k,color:"primary",children:"cancel"}),Object(ie.jsx)(y.a,{disable:u,onClick:function(){if(null!==N||void 0!==N){var e=c?0:1,r=f.plan_cost[e];console.log(N,n,r),s(function(e,t,a){return function(){var r=Object(b.a)(d.a.mark((function r(n){var c,s,i,o,l,u,j;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=JSON.parse(localStorage.getItem("supabase.auth.token")),c=s?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,i=w+"/subscriptions",o={Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},l=JSON.stringify({org_id:e.toString(),plan_id:Number(t),cost_index:a}),u={method:"post",url:i,headers:o,data:l},r.prev=6,n(Bt()),r.next=10,ve()(u);case 10:j=r.sent,console.log(j.data.payload),n(Jt(j.data.payload)),_e("New Subscription activated "),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(6),n(Ht(r.t0));case 19:case"end":return r.stop()}}),r,null,[[6,16]])})));return function(e){return r.apply(this,arguments)}}()}(N,n,r))}a(!t)},color:"primary",autoFocus:!0,children:"Activate"})]})]})]})}function Ja(e){var t=e.plansArray,a=e.error,n=Object(r.useState)(!0),c=Object(o.a)(n,2),s=c[0],i=c[1],l=Object(r.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(r.useState)(null),O=Object(o.a)(b,2),p=O[0],x=O[1];return a?Object(ie.jsx)(Ma,{error:a.message}):null!==t?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"pricing mid-details-box shadow",children:[Object(ie.jsxs)("div",{className:"inline",children:[Object(ie.jsx)("div",{className:"box-title",children:" Pricing options"}),Object(ie.jsxs)("icon",{className:"btn",children:[Object(ie.jsx)("label",{className:"tag label",children:s?"Monthly":"Annual"}),s?Object(ie.jsx)(m.d,{size:20,onClick:function(){return i(!1)},color:"green"}):Object(ie.jsx)(m.c,{size:20,onClick:function(){return i(!0)},color:"green"})]})]}),Object(ie.jsx)("div",{className:"flex-div",children:Object(h.a)(t).map((function(e){return Object(ie.jsxs)("div",{className:"pricing-div",children:[Object(ie.jsx)("div",{className:"title center",children:e.name}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsx)("div",{className:"description",children:Object(ie.jsx)("p",{children:e.description})}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsx)("ul",{className:"features-list",children:Object.keys(e.features).map((function(t,a){return Object(ie.jsxs)("li",{children:[Object(ie.jsxs)("span",{className:"",children:[" ",t]})," :",Object(ie.jsx)("span",{className:"title",children:e.features[t]})]},a)}))}),Object(ie.jsx)("hr",{className:"divider"}),s?Object(ie.jsxs)("div",{className:"center cost-div",children:[Object(ie.jsxs)("h1",{className:"center",children:[e.plan_cost[0].cost,Object(ie.jsxs)("span",{children:[e.plan_cost[0].currency," "]})]}),Object(ie.jsx)("p",{className:"tag",children:"billed montly"})]}):Object(ie.jsxs)("div",{className:"center cost-div",children:[Object(ie.jsxs)("h1",{className:"center",children:[e.plan_cost[1].cost,Object(ie.jsx)("span",{children:e.plan_cost[1].currency})]}),Object(ie.jsx)("p",{className:"tag",children:"billed anually"})]}),Object(ie.jsx)("button",{onClick:function(){var t;t=e.ID,x(t),console.log("hello"),d(!0)},className:"font-small center-btn  ",children:"Select Plan"})]})}))})]}),j&&Object(ie.jsx)(Ba,{open:j,setOpen:d,planId:p,month:s})]}):Object(ie.jsx)(Ze,{})}var Ha=a(30),Wa=a(29),Ga=(a(199),function(e){Object(Ha.a)(a,e);var t=Object(Wa.a)(a);function a(e){var r;return Object(je.a)(this,a),(r=t.call(this,e)).state={},r}return Object(de.a)(a,[{key:"render",value:function(){var e=this.props.sqSize,t=(this.props.sqSize-this.props.strokeWidth)/2,a="0 0 ".concat(e," ").concat(e),r=t*Math.PI*2,n=r-r*this.props.percentage/100;return Object(ie.jsxs)("svg",{width:this.props.sqSize,height:this.props.sqSize,viewBox:a,children:[Object(ie.jsx)("circle",{className:"circle-background",cx:this.props.sqSize/2,cy:this.props.sqSize/2,r:t,strokeWidth:"".concat(this.props.strokeWidth,"px")}),Object(ie.jsx)("circle",{className:"circle-progress",cx:this.props.sqSize/2,cy:this.props.sqSize/2,r:t,strokeWidth:"".concat(this.props.strokeWidth,"px"),transform:"rotate(-90 ".concat(this.props.sqSize/2," ").concat(this.props.sqSize/2,")"),style:{strokeDasharray:r,strokeDashoffset:n}}),Object(ie.jsx)("text",{className:"circle-text",x:"50%",y:"50%",dy:".3em",textAnchor:"middle",children:"".concat(this.props.percentage,"%")})]})}}]),a}(n.a.Component));function qa(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=(Object(v.c)(),Object(v.d)((function(e){return{plans:null!==e.plans.currentPlans?Object(h.a)(e.plans.currentPlans).filter((function(e){return"anonymousnetwork"===e.service})):null,plansError:e.plans.error,loading:e.plans.loading}}))),s=c.plans,i=c.plansError,l=c.loading,u=(Object(v.d)((function(e){return{currentOrgId:e.organisations.CurrentOrgID}})).currentOrgId,Object(v.d)((function(e){return{activeSub:null!=e.subscriptions.allSubscriptions?Object(h.a)(e.subscriptions.allSubscriptions).filter((function(e){return"anonymousnetwork"==e.plan.service})):[]}}))),j=u.activeSub;u.subloading;return console.log(j),Object(r.useEffect)((function(){j.length&&n(!0)}),[j]),l?Object(ie.jsx)(Ze,{}):Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Anonymous VPN"}),a?Object(ie.jsx)(Va,{}):Object(ie.jsx)(Ja,{plansArray:s,error:i})]})})}Ga.defaultProps={sqSize:200,percentage:25,strokeWidth:10};var Va=function(){var e=Object(r.useState)(50),t=Object(o.a)(e,2),a=t[0],n=(t[1],Object(r.useState)({})),c=Object(o.a)(n,2),s=c[0],i=c[1],u=Object(r.useState)(!1),j=Object(o.a)(u,2),h=j[0],O=j[1],p="regionName",x=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("ipinfo")),console.log("inside anomvpn"),i(t||{});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x()}),[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"flex-div",children:[Object(ie.jsxs)("div",{className:"mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"box-title",children:"Total System Usage "}),Object(ie.jsx)(Ga,{strokeWidth:"10",sqSize:"150",percentage:a})]}),Object(ie.jsxs)("div",{className:"mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"box-title",children:" Current Active Client "}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"IP address : "}),s.ip]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"City : "}),s.city]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"Country : "}),s.country]})]})]}),Object(ie.jsx)("div",{className:"table",children:Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)("div",{className:"name",children:p}),Object(ie.jsx)("div",{className:"role",children:"code"}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(l.b,{to:"/dash/anonymousVPN/clients/:regionName",children:Object(ie.jsx)("button",{className:"simple-btn",children:"see all clients"})}),Object(ie.jsx)("button",{className:"simple-btn",onClick:function(){return O(!h)},children:"create new client"})]})]})}),h&&Object(ie.jsx)(Xa,{show:h,onClose:function(){return O(!1)}})]})};function Ya(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Qa=Object(f.a)((function(e){return{paper:{position:"absolute",width:550,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Ka(e){e.RegionName,e.Code;var t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1];return Object(ie.jsx)("div",{className:"main",children:Object(ie.jsxs)("div",{className:"mid-details-box",children:[Object(ie.jsx)("div",{className:"main-title",children:"All Clients"}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)(tt.d,{}),Object(ie.jsx)("div",{className:"name",children:"client email"}),Object(ie.jsx)("div",{className:"role",children:"device"}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("icon",{className:"btn",children:n?Object(ie.jsx)(m.d,{onClick:function(){return c(!1)},color:"green"}):Object(ie.jsx)(m.c,{onClick:function(){return c(!0)}})}),Object(ie.jsx)("icon",{className:"btn",children:Object(ie.jsx)(ha.a,{})})]})]})]})})}function Xa(e){var t=e.show,a=e.onClose,n=Qa(),c=Object(r.useState)(Ya),s=Object(o.a)(c,1)[0];return Object(ie.jsx)("div",{children:Object(ie.jsx)(g.a,{open:t,onClose:a,children:Object(ie.jsxs)("div",{style:s,className:n.paper,children:[Object(ie.jsx)("div",{className:"main-title",children:"Create New Client"}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("form",{children:[Object(ie.jsx)("input",{placeholder:"name"}),Object(ie.jsx)("input",{type:"email",placeholder:"email"}),Object(ie.jsx)("input",{placeholder:"device"}),Object(ie.jsx)("button",{className:"save-btn",type:"submit",children:"create client"})]})]})})})}var Za=a(128);function $a(){var e=n.a.useMemo((function(){return[{label:"Series 1",data:[{x:1,y:10},{x:2,y:10},{x:3,y:10}]},{label:"Series 2",data:[{x:1,y:10},{x:2,y:10},{x:3,y:10}]},{label:"Series 3",data:[{x:1,y:10},{x:2,y:20},{x:3,y:5}]}]}),[]),t=n.a.useMemo((function(){return[{primary:!0,type:"linear",position:"bottom"},{type:"linear",position:"left"}]}),[]);return Object(ie.jsx)("div",{style:{width:"450px",height:"250px"},children:Object(ie.jsx)(Za.Chart,{data:e,axes:t})})}function er(){var e=Object(r.useState)(50),t=Object(o.a)(e,2),a=t[0];t[1];return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Dedicated VPN"}),Object(ie.jsxs)("div",{className:"flex-div",children:[Object(ie.jsxs)("div",{className:"mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"box-title",children:"Total System Usage"}),Object(ie.jsx)(Ga,{strokeWidth:"10",sqSize:"150",percentage:a})]}),Object(ie.jsxs)("div",{className:"mid-details-box shadow",children:[Object(ie.jsx)("div",{className:"box-title",children:" Overall Performance "}),Object(ie.jsx)($a,{className:"chart"})]})]}),Object(ie.jsx)("div",{className:"table-div shadow",children:Object(ie.jsx)(Yt,{})})]})})}function tr(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Tunnel"}),Object(ie.jsx)("div",{})]})})}function ar(){return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Cloud Services"}),Object(ie.jsx)("div",{})]})})}function rr(e){var t=e.auth,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(" "),u=Object(o.a)(i,2),j=u[0],d=u[1],b=Object(r.useState)("error"),h=Object(o.a)(b,2),O=h[0],p=h[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:j,alertopen:c,setAlertopen:s,type:O}),Object(ie.jsxs)("div",{className:"center",children:[Object(ie.jsx)("h2",{children:"Forgot Password?"}),Object(ie.jsx)("p",{children:"send a magic link to your registered email account to change password"}),Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var a=e.target.elements.email.value;t.createRecovery(a),p("success"),d("password link sent"),s(!0)},children:[Object(ie.jsx)("input",{type:"email",placeholder:"enter your email",id:"email"}),Object(ie.jsx)("button",{type:"submit",children:" Send Magic Link"})]}),Object(ie.jsx)(l.b,{to:"/signup",children:Object(ie.jsxs)("a",{children:[Object(ie.jsx)(mt.a,{}),"go back to home"]})})]})]})}function nr(e){var t=e.auth,a=Object(u.h)(),n=Object(r.useState)(""),c=Object(o.a)(n,2),s=c[0],i=c[1],j=Object(r.useState)(!1),h=Object(o.a)(j,2),O=h[0],p=h[1],x=Object(r.useState)(" "),m=Object(o.a)(x,2),g=m[0],f=m[1],v=Object(r.useState)("error"),y=Object(o.a)(v,2),N=y[0],S=y[1];console.log("update password page"),console.log(a.pathname);var w=function(){var e=Object(b.a)(d.a.mark((function e(a){var r,n,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=a.target.elements.password.value,n=a.target.elements.cpassword.value,!(r.toString().length<8)){e.next=9;break}S("error"),f("password should be at least 8 letters"),p(!0),e.next=21;break;case 9:if(r===n){e.next=15;break}S("error"),f("passwords do not match"),p(!0),e.next=21;break;case 15:return e.next=17,t.updatePassword(r);case 17:c=e.sent,s=c.data,i=c.error,s?(S("success"),f("password Changed successfully"),p(!0),_e("Password Changed")):(S("error"),f(i.message),p(!0));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Be,{message:g,alertopen:O,setAlertopen:p,type:N}),Object(ie.jsxs)("div",{className:"center",children:[Object(ie.jsx)("h4",{children:"Update Password"}),Object(ie.jsxs)("form",{onSubmit:w,children:[Object(ie.jsx)("input",{id:"password",type:"password",placeholder:"new password",onChange:function(e){i(e.target.value)}}),Object(ie.jsx)(ct,{password:s}),Object(ie.jsx)("input",{id:"cpassword",type:"password",placeholder:" confirm password"}),Object(ie.jsx)("button",{type:"submit",children:"update password"})]}),Object(ie.jsx)(l.b,{to:"/dash/",children:Object(ie.jsxs)("a",{onClick:function(){localStorage.getItem("location")&&localStorage.removeItem("location")},children:[Object(ie.jsx)(mt.a,{}),"go back to home"]})})]})]})}function cr(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(v.d)((function(e){return{orgArray:Object(h.a)(e.organisations.orgArray),currentOrgID:e.organisations.CurrentOrgID}})),s=c.orgArray,i=c.currentOrgID,u=Object(r.useState)(),j=Object(o.a)(u,2),d=j[0],b=j[1],O=Object(v.c)();return Object(r.useEffect)((function(){!function(){var e=s.find((function(e){return e.id===i}));b(e),console.log(e)}()}),[i]),Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Profile"}),Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{className:"top-div",children:[Object(ie.jsx)("div",{className:"main-title",children:"All Organisations"}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"grey-btn",onClick:function(){n(!a)},children:"Create new Organisation"})})]}),Object(ie.jsx)("div",{className:"divider"}),Object(ie.jsxs)("div",{className:"current-org  mid-details-box",children:[Object(ie.jsx)("div",{className:" tag",children:"Current Organisation"}),d&&Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)("div",{className:"name",children:d.name}),Object(ie.jsx)("div",{className:"country",children:d.country}),Object(ie.jsx)("div",{children:Object(ie.jsx)(l.b,{to:"/dash/organisationSettings",children:Object(ie.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(ie.jsx)($e.a,{})})})})]})]}),Object(ie.jsxs)("div",{className:"table mid-details-box",children:[Object(ie.jsx)("div",{className:"tag",children:" All Organisation"}),s.map((function(e){return Object(ie.jsxs)("div",{className:"org-box",children:[Object(ie.jsx)("div",{className:"name",children:e.name}),Object(ie.jsx)("div",{className:"country",children:e.country}),Object(ie.jsxs)("div",{className:"buttons",children:[Object(ie.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(ie.jsx)(mt.c,{}),onClick:function(){return t=e.id,void O(se(t));var t},children:"Org"}),Object(ie.jsx)(l.b,{to:"/dash/organisationSettings",children:Object(ie.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(ie.jsx)($e.a,{})})})]})]},e.id)}))]})]}),a&&Object(ie.jsx)(Je,{open:a,setOpen:n})]})})}a(202),a(203);var sr=a(132),ir=a(264);function or(e){var t=e.auth;return"recovery"==localStorage.getItem("location")?Object(ie.jsx)(u.a,{to:"/updatepassword"}):"signup"==localStorage.getItem("location")?Object(ie.jsx)(u.a,{to:"/emailverified"}):t.isSessionActive()?(console.log(" rediected to /success"),Object(ie.jsx)(u.a,{to:"/success"})):(console.log(" rediected to /auth"),Object(ie.jsx)(u.a,{to:"/auth "}))}var lr=function(e){Object(Ha.a)(a,e);var t=Object(Wa.a)(a);function a(){return Object(je.a)(this,a),t.apply(this,arguments)}return Object(de.a)(a,[{key:"componentDidMount",value:function(){console.log("inside component didMount"),this.props.dispatch(Ge())}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.loading,r=e.userData;return t?Object(ie.jsxs)("div",{children:["Error! ",t.message]}):a?Object(ie.jsx)("div",{children:"Loading..."}):Object(ie.jsxs)("div",{children:["userdata",console.log(r)]})}}]),a}(n.a.Component),ur=Object(v.b)((function(e){return{userData:e.user.currentUserData,loading:e.user.loading,error:e.user.error}}))(lr);function jr(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(" "),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(r.useState)("error"),j=Object(o.a)(u,2),h=j[0],O=j[1],p=Object(v.d)((function(e){return{walletData:e.wallet.walletData,error:e.wallet.error}})),x=p.walletData,m=p.error,g=Object(v.c)();Object(r.useEffect)((function(){g(Ut())}),[]);var f=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,c,s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w+"/vouchers",c=null,s=JSON.parse(localStorage.getItem("supabase.auth.token")),c=s?JSON.parse(localStorage.getItem("supabase.auth.token")).currentSession.access_token:null,i=JSON.stringify({code:t,pin:Number(a)}),o={method:"post",url:r,headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},data:i},e.prev=6,e.next=9,ve()(o);case 9:if(u=e.sent,console.log(u.data),!m){e.next=13;break}throw m;case 13:l("voucher claimed Success,Your balance will be updated soon"),O("success"),n(!0),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0),l("voucher claim failed"),O("error"),n(!0);case 24:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t,a){return e.apply(this,arguments)}}();return null!==m&&console.log(m.message),Object(ie.jsxs)(ie.Fragment,{children:[m&&Object(ie.jsx)(Re,{message:m.message,alertopen:"true"}),Object(ie.jsx)(Be,{message:i,alertopen:a,setAlertopen:n,type:h}),Object(ie.jsxs)("div",{className:"main",children:[Object(ie.jsx)(me,{page:"Wallet"}),Object(ie.jsxs)("div",{children:[x&&Object(ie.jsx)("div",{className:"details-box shadow",children:Object(ie.jsx)("div",{children:Object(ie.jsxs)("h3",{children:["Wallet Balance : ",x.balance,Object(ie.jsxs)("span",{children:[" ",x.currency]})]})})}),Object(ie.jsxs)("div",{className:"details-box shadow",children:[Object(ie.jsx)("div",{className:"title",children:"Redeem a Vouchar"}),Object(ie.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t=e.target.code.value,a=e.target.pin.value;16!==t.length?(l("voucher code invalid"),O("error"),n(!0)):4!==a.length?(l("voucher pin invalid"),O("error"),n(!0)):f(t,a)}(e)},children:[Object(ie.jsx)("input",{name:"code",id:"code",placeholder:"voucher code"}),Object(ie.jsx)("input",{type:"number",name:"pin",id:"pin",placeholder:"voucher pin"}),Object(ie.jsx)("button",{type:"submit",className:"save-btn",children:"redeem now"})]})]})]})]})]})}var dr=new xe,br=Object(sr.a)({palette:{common:{type:"dark"},primary:{light:"#fff",main:"rgb(23, 105, 170)",contrastText:"#fff"},secondary:{main:"#dc004e",contrastText:"#fff"},background:{paper:"#4d4f5c",default:"#303030"}},typography:{useNextVariants:!0}}),hr=Object(sr.a)({palette:{primary:{main:"rgb(28, 12, 172)"},secondary:{main:"#dc004e"},background:{paper:"#fff",default:"#fff"}},typography:{useNextVariants:!0}});var Or=function(){var e=Object(v.d)((function(e){return e})),t=Object(r.useState)(e.theme),a=Object(o.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){"dark"==e.theme?c(!0):c(!1)}),[e]),Object(ie.jsx)(l.a,{children:Object(ie.jsx)(ir.a,{theme:n?br:hr,children:Object(ie.jsx)("div",{className:n?"dark-theme":"light-theme",children:Object(ie.jsxs)("div",{className:"body",children:[Object(ie.jsx)(ut,{path:"/dash",auth:dr,component:Wt}),Object(ie.jsxs)(u.d,{children:[Object(ie.jsx)(ut,{exact:!0,path:"/dash",auth:dr,component:et}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/profile",auth:dr,component:na}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/billing",auth:dr,component:ta}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/settings",auth:dr,component:za}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/anonymousVPN",auth:dr,component:qa}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/anonymousVPN/clients/:id",auth:dr,component:Ka}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/dedicatedNetwork",auth:dr,component:er}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/tunnel",auth:dr,component:tr}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/nextCloud",auth:dr,component:ar}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/organisations",auth:dr,component:cr}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/organisationSettings",auth:dr,component:wa}),Object(ie.jsx)(ut,{exact:!0,path:"/dash/wallet",auth:dr,component:jr}),Object(ie.jsx)(u.b,{exact:!0,path:"/auth",render:function(e){return dr.isSessionActive()?Object(ie.jsx)(u.a,{to:"/dash"}):Object(ie.jsx)(it,Object(i.a)(Object(i.a)({},e),{},{auth:dr}))}}),Object(ie.jsx)(u.b,{exact:!0,path:"/failure",render:function(e){return Object(ie.jsx)(bt,Object(i.a)(Object(i.a)({},e),{},{auth:dr}))}}),Object(ie.jsx)(u.b,{exact:!0,path:"/success",render:function(e){return Object(ie.jsx)(dt,Object(i.a)(Object(i.a)({},e),{},{auth:dr}))}}),Object(ie.jsx)(u.b,{exact:!0,path:"/verify",render:function(e){return Object(ie.jsx)(Ot,Object(i.a)(Object(i.a)({},e),{},{auth:dr}))}}),Object(ie.jsx)(u.b,{exact:!0,path:"/resetpassword",render:function(e){return Object(ie.jsx)(rr,{auth:dr})}}),Object(ie.jsx)(u.b,{exact:!0,path:"/updatepassword",render:function(e){return Object(ie.jsx)(nr,{auth:dr})}}),Object(ie.jsx)(u.b,{exact:!0,path:"/emailverified",render:function(e){return Object(ie.jsx)(Ot,{auth:dr})}}),Object(ie.jsx)(u.b,{exact:!0,path:"/trialpage",render:function(e){return Object(ie.jsx)(ur,{})}}),Object(ie.jsx)(u.b,{path:"/:type",render:function(e){return Object(ie.jsx)(ht,{auth:dr})}}),Object(ie.jsx)(u.b,{exact:!0,path:"/",render:function(e){return Object(ie.jsx)(or,{auth:dr})}}),Object(ie.jsx)(u.b,{render:function(e){return Object(ie.jsx)(pt,{})}})]})]})})})})},pr=a(129),xr=a(130),mr=Object(xr.composeWithDevTools)({realtime:!0,hostname:"localhost",port:8e3}),gr=Object(gt.createStore)(Et,mr(Object(gt.applyMiddleware)(pr.a)));s.a.render(Object(ie.jsx)(n.a.StrictMode,{children:Object(ie.jsx)(v.a,{store:gr,children:Object(ie.jsx)(Or,{})})}),document.getElementById("root"))},93:function(e,t,a){},96:function(e,t,a){}},[[204,1,2]]]);
//# sourceMappingURL=main.1fd79568.chunk.js.map